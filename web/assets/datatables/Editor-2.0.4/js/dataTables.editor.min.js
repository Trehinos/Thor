/*!
 DataTables Editor v2.0.4

 ©2012-2021 SpryMedia Ltd, all rights reserved.
 License: editor.datatables.net/license
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(d){var r=0;return function(){return r<d.length?{done:!1,value:d[r++]}:{done:!0}}};$jscomp.arrayIterator=function(d){return{next:$jscomp.arrayIteratorImpl(d)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,r,t){if(d==Array.prototype||d==Object.prototype)return d;d[r]=t.value;return d};$jscomp.getGlobal=function(d){d=["object"==typeof globalThis&&globalThis,d,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var r=0;r<d.length;++r){var t=d[r];if(t&&t.Math==Math)return t}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(d,r){var t=$jscomp.propertyToPolyfillSymbol[r];if(null==t)return d[r];t=d[t];return void 0!==t?t:d[r]};
$jscomp.polyfill=function(d,r,t,m){r&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(d,r,t,m):$jscomp.polyfillUnisolated(d,r,t,m))};$jscomp.polyfillUnisolated=function(d,r,t,m){t=$jscomp.global;d=d.split(".");for(m=0;m<d.length-1;m++){var z=d[m];if(!(z in t))return;t=t[z]}d=d[d.length-1];m=t[d];r=r(m);r!=m&&null!=r&&$jscomp.defineProperty(t,d,{configurable:!0,writable:!0,value:r})};
$jscomp.polyfillIsolated=function(d,r,t,m){var z=d.split(".");d=1===z.length;m=z[0];m=!d&&m in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var A=0;A<z.length-1;A++){var G=z[A];if(!(G in m))return;m=m[G]}z=z[z.length-1];t=$jscomp.IS_SYMBOL_NATIVE&&"es6"===t?m[z]:null;r=r(t);null!=r&&(d?$jscomp.defineProperty($jscomp.polyfills,z,{configurable:!0,writable:!0,value:r}):r!==t&&($jscomp.propertyToPolyfillSymbol[z]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(z):$jscomp.POLYFILL_PREFIX+z,z=
$jscomp.propertyToPolyfillSymbol[z],$jscomp.defineProperty(m,z,{configurable:!0,writable:!0,value:r})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(d){if(d)return d;var r=function(z,A){this.$jscomp$symbol$id_=z;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:A})};r.prototype.toString=function(){return this.$jscomp$symbol$id_};var t=0,m=function(z){if(this instanceof m)throw new TypeError("Symbol is not a constructor");return new r("jscomp_symbol_"+(z||"")+"_"+t++,z)};return m},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(d){if(d)return d;d=Symbol("Symbol.iterator");for(var r="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),t=0;t<r.length;t++){var m=$jscomp.global[r[t]];"function"===typeof m&&"function"!=typeof m.prototype[d]&&$jscomp.defineProperty(m.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return d},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(d){d={next:d};d[Symbol.iterator]=function(){return this};return d};$jscomp.iteratorFromArray=function(d,r){d instanceof String&&(d+="");var t=0,m={next:function(){if(t<d.length){var z=t++;return{value:r(z,d[z]),done:!1}}m.next=function(){return{done:!0,value:void 0}};return m.next()}};m[Symbol.iterator]=function(){return m};return m};
$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(r){return r})}},"es6","es3");$jscomp.findInternal=function(d,r,t){d instanceof String&&(d=String(d));for(var m=d.length,z=0;z<m;z++){var A=d[z];if(r.call(t,A,z,d))return{i:z,v:A}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(r,t){return $jscomp.findInternal(this,r,t).v}},"es6","es3");
$jscomp.polyfill("Array.from",function(d){return d?d:function(r,t,m){t=null!=t?t:function(L){return L};var z=[],A="undefined"!=typeof Symbol&&Symbol.iterator&&r[Symbol.iterator];if("function"==typeof A){r=A.call(r);for(var G=0;!(A=r.next()).done;)z.push(t.call(m,A.value,G++))}else for(A=r.length,G=0;G<A;G++)z.push(t.call(m,r[G],G));return z}},"es6","es3");
(function(d){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(r){return d(r,window,document)}):"object"===typeof exports?module.exports=function(r,t){r||(r=window);t&&t.fn.dataTable||(t=require("datatables.net")(r,t).$);return d(t,r,r.document)}:d(jQuery,window,document)})(function(d,r,t,m){function z(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b}function A(a,b){b===m&&(b=t);return d('*[data-dte-e="'+a+'"]',b)}function G(a,b){void 0===b&&(b="#");
return"string"===typeof a?b+a.replace(/(:|\.|\[|\]|,)/g,"\\$1"):b+a}function L(a,b){var c=[];d.each(a,function(e,f){c.push(f[b])});return c}function ka(a,b){if("object"!==typeof a||"object"!==typeof b)return a==b;var c=z(a),e=z(b);if(c.length!==e.length)return!1;e=0;for(var f=c.length;e<f;e++){var h=c[e];if("object"===typeof a[h]){if(!ka(a[h],b[h]))return!1}else if(a[h]!=b[h])return!1}return!0}function la(a){if("keyless"===a)return d(t);var b=d('[data-editor-id="'+a+'"]');0===b.length&&(b="string"===
typeof a?d(G(a)):d(a));if(0===b.length)throw Error("Could not find an element with `data-editor-id` or `id` of: "+a);return b}function ma(a,b){a=la(a);return d('[data-editor-field="'+b+'"]',a)}function wa(a,b,c){d.each(b,function(e,f){e=f.valFromData(c);e!==m&&(f=ma(a,f.dataSrc()),f.filter("[data-editor-value]").length?f.attr("data-editor-value",e):f.each(function(){for(;this.childNodes.length;)this.removeChild(this.firstChild)}).html(e))})}function Ka(a,b){var c=new d.fn.dataTable.Api(a.s.table);
return"head"===b?c.table(m).header():"create"===a.s.action?c.table(m).header():c.row(a.s.modifier).node()}function xa(a){var b=d("div.DTE_Header",B.wrapper).outerHeight(),c=d("div.DTE_Footer",B.wrapper).outerHeight();b=d(r).height()-2*da.conf.windowPadding-b-c;d("div.DTE_Body_Content",B.wrapper).css("maxHeight",b);return d(a.dom.wrapper).outerHeight()}function ya(a,b){b||(b=function(){});ea&&(d(B.content).animate({top:-(B.content.offsetHeight+50)},600,function(){d([B.wrapper,B.background]).fadeOut("normal",
function(){d(this).detach();b()})}),ea=!1)}function La(a,b){b||(b=function(){});d("body").append(B.background).append(B.wrapper);B.content.style.height="auto";if(!ea){var c=B.wrapper.style;c.opacity="0";c.display="block";var e=xa(a),f=Ka(a,da.conf.attach),h=f.offsetWidth;c.display="none";c.opacity="1";B.wrapper.style.width=h+"px";B.wrapper.style.marginLeft=-(h/2)+"px";B.wrapper.style.top=d(f).offset().top+f.offsetHeight+"px";B.content.style.top=-1*e-20+"px";B.background.style.opacity="0";B.background.style.display=
"block";d(B.background).animate({opacity:za},"normal");d(B.wrapper).fadeIn();d(B.content).animate({top:0},600,b)}d(B.close).attr("title",a.i18n.close).off("click.DTED_Envelope").on("click.DTED_Envelope",function(g){a.close()});d(B.background).off("click.DTED_Envelope").on("click.DTED_Envelope",function(g){a.background()});d("div.DTED_Lightbox_Content_Wrapper",B.wrapper).off("click.DTED_Envelope").on("click.DTED_Envelope",function(g){d(g.target).hasClass("DTED_Envelope_Content_Wrapper")&&a.background()});
d(r).off("resize.DTED_Envelope").on("resize.DTED_Envelope",function(){xa(a)});ea=!0}function Aa(){return"undefined"!==typeof r.orientation&&576>=r.outerWidth?!0:!1}function Ba(){var a=d("div.DTE_Header",C.wrapper).outerHeight()+d("div.DTE_Footer",C.wrapper).outerHeight();Aa()?d("div.DTE_Body_Content",C.wrapper).css("maxHeight","calc(100vh - "+a+"px)"):(a=d(r).height()-2*W.conf.windowPadding-a,d("div.DTE_Body_Content",C.wrapper).css("maxHeight",a))}function Ca(a,b){b||(b=function(){});d("body").scrollTop(Da);
a._animate(C.wrapper,{opacity:0,top:W.conf.offsetAni},function(){d(this).detach();b()});a._animate(C.background,{opacity:0},function(){d(this).detach()});fa=!1;d(r).off("resize.DTED_Lightbox")}function Ma(a,b){Aa()&&d("body").addClass("DTED_Lightbox_Mobile");d("body").append(C.background).append(C.wrapper);Ba();fa||(fa=!0,C.content.css("height","auto"),C.wrapper.css({top:-W.conf.offsetAni}),a._animate(C.wrapper,{opacity:1,top:0},b),a._animate(C.background,{opacity:1}),d(r).on("resize.DTED_Lightbox",
function(){Ba()}),Da=d("body").scrollTop());C.close.attr("title",a.i18n.close).off("click.DTED_Lightbox").on("click.DTED_Lightbox",function(c){a.close()});C.background.off("click.DTED_Lightbox").on("click.DTED_Lightbox",function(c){c.stopImmediatePropagation();a.background()});d("div.DTED_Lightbox_Content_Wrapper",C.wrapper).off("click.DTED_Lightbox").on("click.DTED_Lightbox",function(c){d(c.target).hasClass("DTED_Lightbox_Content_Wrapper")&&(c.stopImmediatePropagation(),a.background())})}function Na(a,
b,c){void 0===c&&(c=!0);if(Array.isArray(a)){b!==m&&a.reverse();for(c=0;c<a.length;c++)this.add(a[c],b,!1);this._displayReorder(this.order());return this}var e=a.name;if(e===m)throw"Error adding field. The field requires a `name` option";if(this.s.fields[e])throw"Error adding field '"+e+"'. A field already exists with this name";this._dataSource("initField",a);var f=new y.Field(a,this.classes.field,this);this.s.mode&&(a=this.s.editFields,f.multiReset(),d.each(a,function(h,g){var k;g.data&&(k=f.valFromData(g.data));
f.multiSet(h,k!==m?k:f.def())}));this.s.fields[e]=f;b===m?this.s.order.push(e):null===b?this.s.order.unshift(e):(b=d.inArray(b,this.s.order),this.s.order.splice(b+1,0,e));!1!==c&&this._displayReorder(this.order());return this}function Oa(a){return a?(this.s.ajax=a,this):this.s.ajax}function Pa(){var a=this.s.editOpts.onBackground;"function"===typeof a?a(this):"blur"===a?this.blur():"close"===a?this.close():"submit"===a&&this.submit();return this}function Qa(){this._blur();return this}function Ra(a,
b,c,e){var f=this,h=this;if(this._tidy(function(){h.bubble(a,b,e)}))return this;d.isPlainObject(b)?(e=b,b=m,c=!0):"boolean"===typeof b&&(c=b,e=b=m);d.isPlainObject(c)&&(e=c,c=!0);c===m&&(c=!0);e=d.extend({},this.s.formOptions.bubble,e);var g=this._dataSource("individual",a,b);this._edit(a,g,"bubble",e,function(){var k=f._formOptions(e);if(!f._preopen("bubble"))return f;d(r).on("resize."+k,function(){f.bubblePosition()});var l=[];f.s.bubbleNodes=l.concat.apply(l,L(g,"attach"));var n=f.classes.bubble;
l=d('<div class="'+n.bg+'"><div></div></div>');var p=d('<div class="'+n.wrapper+'"><div class="'+n.liner+'"><div class="'+n.table+'"><div class="'+n.close+'" title="'+f.i18n.close+'"></div><div class="DTE_Processing_Indicator"><span></div></div></div><div class="'+n.pointer+'"></div></div>');c&&(p.appendTo("body"),l.appendTo("body"));n=p.children().eq(0);var q=n.children(),u=q.children();n.append(f.dom.formError);q.prepend(f.dom.form);e.message&&n.prepend(f.dom.formInfo);e.title&&n.prepend(f.dom.header);
e.buttons&&q.append(f.dom.buttons);var v=d().add(p).add(l);f._closeReg(function(x){f._animate(v,{opacity:0},function(){this===p[0]&&(v.detach(),d(r).off("resize."+k),f._clearDynamicInfo(),f._event("closed",["bubble"]))})});l.on("click",function(){f.blur()});u.on("click",function(){f._close()});f.bubblePosition();f._postopen("bubble",!1);f._animate(v,{opacity:1},function(){this===p[0]&&(f._focus(f.s.includeFields,e.focus),f._event("opened",["bubble",f.s.action]))})});return this}function Sa(){var a=
d("div.DTE_Bubble"),b=d("div.DTE_Bubble_Liner"),c=this.s.bubbleNodes,e=0,f=0,h=0,g=0;d.each(c,function(q,u){q=d(u).offset();u=d(u).get(0);e+=q.top;f+=q.left;h+=q.left+u.offsetWidth;g+=q.top+u.offsetHeight});e/=c.length;f/=c.length;h/=c.length;g/=c.length;c=e;var k=(f+h)/2,l=b.outerWidth(),n=k-l/2;l=n+l;var p=d(r).width();this.classes.bubble;a.css({top:c,left:k});b.length&&0>b.offset().top?a.css("top",g).addClass("below"):a.removeClass("below");l+15>p?b.css("left",15>n?-(n-15):-(l-p+15)):b.css("left",
15>n?-(n-15):0);return this}function Ta(a){var b=this;"_basic"===a?a=[{text:this.i18n[this.s.action].submit,action:function(){this.submit()}}]:Array.isArray(a)||(a=[a]);d(this.dom.buttons).empty();d.each(a,function(c,e){"string"===typeof e&&(e={text:e,action:function(){this.submit()}});c=e.text||e.label;var f=e.action||e.fn;d("<button></button>",{"class":b.classes.form.button+(e.className?" "+e.className:"")}).html("function"===typeof c?c(b):c||"").attr("tabindex",e.tabIndex!==m?e.tabIndex:0).on("keyup",
function(h){13===h.which&&f&&f.call(b)}).on("keypress",function(h){13===h.which&&h.preventDefault()}).on("click",function(h){h.preventDefault();f&&f.call(b,h)}).appendTo(b.dom.buttons)});return this}function Ua(a){var b=this,c=this.s.fields;"string"===typeof a?(b.field(a).destroy(),delete c[a],c=d.inArray(a,this.s.order),this.s.order.splice(c,1),a=d.inArray(a,this.s.includeFields),-1!==a&&this.s.includeFields.splice(a,1)):d.each(this._fieldNames(a),function(e,f){b.clear(f)});return this}function Va(){this._close(!1);
return this}function Wa(a,b,c,e){var f=this,h=this,g=this.s.fields,k=1;if(this._tidy(function(){h.create(a,b,c,e)}))return this;"number"===typeof a&&(k=a,a=b,b=c);this.s.editFields={};for(var l=0;l<k;l++)this.s.editFields[l]={fields:this.s.fields};var n=this._crudArgs(a,b,c,e);this.s.mode="main";this.s.action="create";this.s.modifier=null;this.dom.form.style.display="block";this._actionClass();this._displayReorder(this.fields());d.each(g,function(p,q){q.multiReset();for(p=0;p<k;p++)q.multiSet(p,q.def());
q.set(q.def())});this._event("initCreate",null,function(){f._assembleMain();f._formOptions(n.opts);n.maybeOpen()});return this}function Xa(a){if(Array.isArray(a)){for(var b=0,c=a.length;b<c;b++)this.undependent(a[b]);return this}a=this.field(a);d(a.node()).off(".edep");return this}function Ya(a,b,c){var e=this;if(Array.isArray(a)){for(var f=0,h=a.length;f<h;f++)this.dependent(a[f],b,c);return this}var g=this,k=this.field(a),l={type:"POST",dataType:"json"};c=d.extend({event:"change",data:null,preUpdate:null,
postUpdate:null},c);var n=function(p){c.preUpdate&&c.preUpdate(p);d.each({labels:"label",options:"update",values:"val",messages:"message",errors:"error"},function(q,u){p[q]&&d.each(p[q],function(v,x){g.field(v)[u](x)})});d.each(["hide","show","enable","disable"],function(q,u){if(p[u])g[u](p[u],p.animate)});c.postUpdate&&c.postUpdate(p);k.processing(!1)};d(k.node()).on(c.event+".edep",function(p){if(0!==d(k.node()).find(p.target).length){k.processing(!0);var q={};q.rows=e.s.editFields?L(e.s.editFields,
"data"):null;q.row=q.rows?q.rows[0]:null;q.values=e.val();if(c.data){var u=c.data(q);u&&(c.data=u)}"function"===typeof b?(p=b.call(e,k.val(),q,n,p))&&("object"===typeof p&&"function"===typeof p.then?p.then(function(v){v&&n(v)}):n(p)):(d.isPlainObject(b)?d.extend(l,b):l.url=b,d.ajax(d.extend(l,{data:q,success:n})))}});return this}function Za(){this.s.displayed&&this.close();this.clear();this.s.template&&d("body").append(this.s.template);var a=this.s.displayController;a.destroy&&a.destroy(this);d(t).off(".dte"+
this.s.unique);this.s=this.dom=null}function $a(a){var b=this;d.each(this._fieldNames(a),function(c,e){b.field(e).disable()});return this}function ab(a){return a===m?this.s.displayed:this[a?"open":"close"]()}function bb(){return d.map(this.s.fields,function(a,b){return a.displayed()?b:null})}function cb(){return this.s.displayController.node(this)}function db(a,b,c,e,f){var h=this,g=this;if(this._tidy(function(){g.edit(a,b,c,e,f)}))return this;var k=this._crudArgs(b,c,e,f);this._edit(a,this._dataSource("fields",
a),"main",k.opts,function(){h._assembleMain();h._formOptions(k.opts);k.maybeOpen()});return this}function eb(a){var b=this;d.each(this._fieldNames(a),function(c,e){b.field(e).enable()});return this}function fb(a,b){var c=d(this.dom.wrapper);b===m?(this._message(this.dom.formError,a,!0,function(){c.toggleClass("inFormError",a!==m&&""!==a)}),this.s.globalError=a):this.field(a).error(b);return this}function gb(a){var b=this.s.fields;if(!b[a])throw"Unknown field name - "+a;return b[a]}function hb(){return d.map(this.s.fields,
function(a,b){return b})}function Ea(a,b){var c=this.files(a);if(!c[b])throw"Unknown file id "+b+" in table "+a;return c[b]}function Fa(a){if(!a)return y.files;var b=y.files[a];if(!b)throw"Unknown file table name: "+a;return b}function ib(a){var b=this;a||(a=this.fields());if(Array.isArray(a)){var c={};d.each(a,function(e,f){c[f]=b.field(f).get()});return c}return this.field(a).get()}function jb(a,b){var c=this;d.each(this._fieldNames(a),function(e,f){c.field(f).hide(b)});return this}function kb(a){void 0===
a&&(a=!1);return d.map(this.s.editFields,function(b,c){return!0===a?"#"+c:c})}function lb(a){d(this.dom.formError);if(this.s.globalError)return!0;a=this._fieldNames(a);for(var b=0,c=a.length;b<c;b++)if(this.field(a[b]).inError())return!0;return!1}function mb(a,b,c){var e=this,f=this;d.isPlainObject(b)&&(c=b,b=m);c=d.extend({},this.s.formOptions.inline,c);var h=this._dataSource("individual",a,b),g=Object.keys(h);if(1<g.length)throw Error("Cannot edit more than one row inline at a time");g=h[g[0]];
for(var k=[],l=0;l<g.attach.length;l++)k.push(g.attach[l]);if(d("div.DTE_Field",k).length||this._tidy(function(){f.inline(a,b,c)}))return this;this._edit(a,h,"inline",c,function(){e._inline(h,c)});return this}function nb(a,b){var c=this;d.isPlainObject(a)&&(b=a,a=null);if(this._tidy(function(){c.inlineCreate(a,b)}))return this;d.each(this.s.fields,function(e,f){f.multiReset();f.multiSet(0,f.def());f.set(f.def())});this.s.mode="main";this.s.action="create";this.s.modifier=null;this.s.editFields=this._dataSource("fakeRow",
a);b=d.extend({},this.s.formOptions.inline,b);this._actionClass();this._inline(this.s.editFields,b,function(){c._dataSource("fakeRowEnd")});this._event("initCreate",null);return this}function ob(a,b){b===m?this._message(this.dom.formInfo,a):this.field(a).message(b);return this}function pb(a){if(!a)return this.s.action;if(!this.s.action)throw Error("Not currently in an editing mode");if("create"===this.s.action&&"create"!==a)throw Error("Changing from create mode is not supported");this.s.action=a;
return this}function qb(){return this.s.modifier}function rb(a){var b=this;a===m&&(a=this.fields());if(Array.isArray(a)){var c={};d.each(a,function(e,f){c[f]=b.field(f).multiGet()});return c}return this.field(a).multiGet()}function sb(a,b){var c=this;d.isPlainObject(a)&&b===m?d.each(a,function(e,f){c.field(e).multiSet(f)}):this.field(a).multiSet(b);return this}function tb(a){var b=this;a||(a=this.order());return Array.isArray(a)?d.map(a,function(c){return b.field(c).node()}):this.field(a).node()}
function ub(a,b){d(this).off(this._eventName(a),b);return this}function vb(a,b){d(this).on(this._eventName(a),b);return this}function wb(a,b){d(this).one(this._eventName(a),b);return this}function xb(){var a=this;this._displayReorder();this._closeReg(function(){a._nestedClose(function(){a._clearDynamicInfo();a._event("closed",["main"])})});if(!this._preopen("main"))return this;this._nestedOpen(function(){a._focus(d.map(a.s.order,function(b){return a.s.fields[b]}),a.s.editOpts.focus);a._event("opened",
["main",a.s.action])},this.s.editOpts.nest);this._postopen("main",!1);return this}function yb(a){if(!a)return this.s.order;arguments.length&&!Array.isArray(a)&&(a=Array.prototype.slice.call(arguments));if(this.s.order.slice().sort().join("-")!==a.slice().sort().join("-"))throw"All fields, and no additional fields, must be provided for ordering.";d.extend(this.s.order,a);this._displayReorder();return this}function zb(a,b,c,e,f){var h=this,g=this;if(this._tidy(function(){g.remove(a,b,c,e,f)}))return this;
a.length===m&&(a=[a]);var k=this._crudArgs(b,c,e,f),l=this._dataSource("fields",a);this.s.action="remove";this.s.modifier=a;this.s.editFields=l;this.dom.form.style.display="none";this._actionClass();this._event("initRemove",[L(l,"node"),L(l,"data"),a],function(){h._event("initMultiRemove",[l,a],function(){h._assembleMain();h._formOptions(k.opts);k.maybeOpen();var n=h.s.editOpts;null!==n.focus&&d("button",h.dom.buttons).eq(n.focus).focus()})});return this}function Ab(a,b){var c=this;if(!d.isPlainObject(a)){var e=
{};e[a]=b;a=e}d.each(a,function(f,h){c.field(f).set(h)});return this}function Bb(a,b){var c=this;d.each(this._fieldNames(a),function(e,f){c.field(f).show(b)});return this}function Cb(a,b,c,e){var f=this,h=this.s.fields,g=[],k=0,l=!1;if(this.s.processing||!this.s.action)return this;this._processing(!0);var n=function(){g.length!==k||l||f._event("initSubmit",[f.s.action],function(p){!1===p?f._processing(!1):(l=!0,f._submit(a,b,c,e))})};this.error();d.each(h,function(p,q){q.inError()&&g.push(p)});d.each(g,
function(p,q){h[q].error("",function(){k++;n()})});n();return this}function Db(a){if(a===m)return this.s.table;this.s.table=a;return this}function Eb(a){if(a===m)return this.s.template;this.s.template=null===a?null:d(a);return this}function Fb(a){var b=d(this.dom.header).children("div."+this.classes.header.content);if(a===m)return b.html();"function"===typeof a&&(a=a(this,new Gb.Api(this.s.table)));b.html(a);return this}function Hb(a,b){return b!==m||d.isPlainObject(a)?this.set(a,b):this.get(a)}function Ib(a,
b,c){void 0===c&&(c=!0);a=b?a+" For more information, please refer to https://datatables.net/tn/"+b:a;if(c)throw a;console.warn(a)}function Jb(a,b,c){var e;b=d.extend({label:"label",value:"value"},b);if(Array.isArray(a)){var f=0;for(e=a.length;f<e;f++){var h=a[f];d.isPlainObject(h)?c(h[b.value]===m?h[b.label]:h[b.value],h[b.label],f,h.attr):c(h,h,f)}}else f=0,d.each(a,function(g,k){c(k,g,f);f++})}function Kb(a,b,c,e,f){var h=new FileReader,g=0,k=[];a.error(b.name,"");"function"===typeof b.ajax?b.ajax(c,
function(l){f.call(a,l)}):(e(b,b.fileReadText||"<i>Uploading file</i>"),h.onload=function(l){var n=new FormData;n.append("action","upload");n.append("uploadField",b.name);n.append("upload",c[g]);b.ajaxData&&b.ajaxData(n,c[g],g);if(b.ajax)var p=b.ajax;else d.isPlainObject(a.s.ajax)?p=a.s.ajax.upload?a.s.ajax.upload:a.s.ajax:"string"===typeof a.s.ajax&&(p=a.s.ajax);if(!p)throw Error("No Ajax option specified for upload plug-in");"string"===typeof p&&(p={url:p});if("function"===typeof p.data){l={};var q=
p.data(l);q!==m&&"string"!==typeof q&&(l=q);d.each(l,function(v,x){n.append(v,x)})}else if(d.isPlainObject(p.data))throw Error("Upload feature cannot use `ajax.data` with an object. Please use it as a function instead.");if(!1===a._event("preUpload",[b.name,c[g],n]))g<c.length-1?(g++,h.readAsDataURL(c[g])):f.call(a,k);else{var u=!1;a.on("preSubmit.DTE_Upload",function(){u=!0;return!1});d.ajax(d.extend({},p,{type:"post",data:n,dataType:"json",contentType:!1,processData:!1,xhr:function(){var v=d.ajaxSettings.xhr();
v.upload&&(v.upload.onprogress=function(x){x.lengthComputable&&(x=(x.loaded/x.total*100).toFixed(0)+"%",e(b,1===c.length?x:g+":"+c.length+" "+x))},v.upload.onloadend=function(x){e(b,b.processingText||"Processing")});return v},success:function(v){a.off("preSubmit.DTE_Upload");a._event("uploadXhrSuccess",[b.name,v]);if(v.fieldErrors&&v.fieldErrors.length){v=v.fieldErrors;for(var x=0,w=v.length;x<w;x++)a.error(v[x].name,v[x].status)}else v.error?a.error(v.error):v.upload&&v.upload.id?(v.files&&d.each(v.files,
function(E,D){y.files[E]||(y.files[E]={});d.extend(y.files[E],D)}),k.push(v.upload.id),g<c.length-1?(g++,h.readAsDataURL(c[g])):(f.call(a,k),u&&a.submit())):a.error(b.name,"A server error occurred while uploading the file");e(b)},error:function(v){a.error(b.name,"A server error occurred while uploading the file");a._event("uploadXhrError",[b.name,v]);e(b)}}))}},c=d.map(c,function(l){return l}),b._limitLeft!==m&&c.splice(b._limitLeft,c.length),h.readAsDataURL(c[0]))}function Lb(){var a=this.classes.actions,
b=this.s.action,c=d(this.dom.wrapper);c.removeClass([a.create,a.edit,a.remove].join(" "));"create"===b?c.addClass(a.create):"edit"===b?c.addClass(a.edit):"remove"===b&&c.addClass(a.remove)}function Mb(a,b,c,e){var f=this.s.action,h,g={type:"POST",dataType:"json",data:null,error:[function(n,p,q){h=q}],success:[],complete:[function(n,p){var q=null;if(204===n.status||"null"===n.responseText)q={};else try{q=n.responseJSON?n.responseJSON:JSON.parse(n.responseText)}catch(u){}d.isPlainObject(q)||Array.isArray(q)?
b(q,400<=n.status,n):c(n,p,h)}]};e=this.s.ajax;var k="edit"===f||"remove"===f?L(this.s.editFields,"idSrc").join(","):null;d.isPlainObject(e)&&e[f]&&(e=e[f]);if("function"===typeof e)e(null,null,a,b,c);else{"string"===typeof e?-1!==e.indexOf(" ")?(e=e.split(" "),g.type=e[0],g.url=e[1]):g.url=e:(e=d.extend({},e||{}),e.complete&&(g.complete.unshift(e.complete),delete e.complete),e.error&&(g.error.unshift(e.error),delete e.error),g=d.extend({},g,e));g.replacements&&d.each(g.replacements,function(n,p){g.url=
g.url.replace("{"+n+"}",p.call(this,n,k,f,a))});g.url=g.url.replace(/_id_/,k).replace(/{id}/,k);if(g.data){var l=(e="function"===typeof g.data)?g.data(a):g.data;a=e&&l?l:d.extend(!0,a,l)}g.data=a;"DELETE"!==g.type||g.deleteBody!==m&&!0!==g.deleteBody||(e=d.param(g.data),g.url+=-1===g.url.indexOf("?")?"?"+e:"&"+e,delete g.data);d.ajax(g)}}function Nb(a,b,c,e){d.fn.animate?a.stop().animate(b,c,e):(a.css(b),"function"===typeof c?c.call(a):e&&e.call(a))}function Ob(){var a=this.dom;d(a.wrapper).prepend(a.header);
d(a.footer).append(a.formError).append(a.buttons);d(a.bodyContent).append(a.formInfo).append(a.form)}function Pb(){var a=this.s.editOpts.onBlur;!1!==this._event("preBlur")&&("function"===typeof a?a(this):"submit"===a?this.submit():"close"===a&&this._close())}function Qb(a){void 0===a&&(a=!1);if(this.s){var b=this.classes.field.error,c=this.s.fields;d("div."+b,this.dom.wrapper).removeClass(b);d.each(c,function(e,f){f.error("");a||f.message("")});this.error("");a||this.message("")}}function Rb(a,b){if(!1!==
this._event("preClose")){if(this.s.closeCb){var c=this.s.closeCb(a,b);this.s.closeCb=null}this.s.closeIcb&&(this.s.closeIcb(),this.s.closeIcb=null);d("body").off("focus.editor-focus");this.s.displayed=!1;this._event("close");c&&this._event("closed",[c])}}function Sb(a){this.s.closeCb=a}function Tb(a,b,c,e){var f=this;if(!d.isPlainObject(a))if("boolean"===typeof a){var h=a;a=b}else{var g=a;var k=b;h=c;a=e}h===m&&(h=!0);g&&f.title(g);k&&f.buttons(k);return{opts:d.extend({},this.s.formOptions.main,a),
maybeOpen:function(){h&&f.open()}}}function Ub(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];if(c=(this.s.table?y.dataSources.dataTable:y.dataSources.html)[a])return c.apply(this,b)}function Vb(a){var b=this,c=d(this.dom.formContent),e=this.s.fields,f=this.s.order,h=this.s.template,g=this.s.mode||"main";a?this.s.includeFields=a:a=this.s.includeFields;c.children().detach();d.each(f,function(k,l){-1!==b._weakInArray(l,a)&&(h&&"main"===g?(h.find('editor-field[name="'+l+'"]').after(e[l].node()),
h.find('[data-editor-template="'+l+'"]').append(e[l].node())):c.append(e[l].node()))});h&&"main"===g&&h.appendTo(c);this._event("displayOrder",[this.s.displayed,this.s.action,c])}function Wb(a,b,c,e,f){var h=this,g=this.s.fields,k=[],l,n={};this.s.editFields=b;this.s.editData=n;this.s.modifier=a;this.s.action="edit";this.dom.form.style.display="block";this.s.mode=c;this._actionClass();d.each(g,function(q,u){u.multiReset();l=!1;n[q]={};d.each(b,function(v,x){if(x.fields[q]){var w=u.valFromData(x.data),
E=u.nullDefault();n[q][v]=null===w?"":Array.isArray(w)?w.slice():w;if(!e||"row"===e.scope){if(u.multiSet(v,w===m||E&&null===w?u.def():w),!x.displayFields||x.displayFields[q])l=!0}else if(!x.displayFields||x.displayFields[q])u.multiSet(v,w===m||E&&null===w?u.def():w),l=!0}});0!==u.multiIds().length&&l&&k.push(q)});g=this.order().slice();for(var p=g.length-1;0<=p;p--)-1===d.inArray(g[p].toString(),k)&&g.splice(p,1);this._displayReorder(g);this._event("initEdit",[L(b,"node")[0],L(b,"data")[0],a,c],function(){h._event("initMultiEdit",
[b,a,c],function(){f()})})}function Xb(a,b,c){void 0===b&&(b=[]);void 0===c&&(c=m);if(Array.isArray(a)){c=0;for(var e=a.length;c<e;c++)this._event(a[c],b)}else return e=d.Event(a),d(this).triggerHandler(e,b),e=e.result,0===a.indexOf("pre")&&!1===e&&d(this).triggerHandler(d.Event(a+"Cancelled"),b),c&&(e&&"object"===typeof e&&e.then?e.then(c):c(e)),e}function Yb(a){for(var b=a.split(" "),c=0,e=b.length;c<e;c++){a=b[c];var f=a.match(/^on([A-Z])/);f&&(a=f[1].toLowerCase()+a.substring(3));b[c]=a}return b.join(" ")}
function Zb(a){var b=null;d.each(this.s.fields,function(c,e){d(e.node()).find(a).length&&(b=e)});return b}function $b(a){return a===m?this.fields():Array.isArray(a)?a:[a]}function ac(a,b){var c=this;if("remove"!==this.s.action){var e;a=d.map(a,function(f){return"string"===typeof f?c.s.fields[f]:f});"number"===typeof b?e=a[b]:b?e=0===b.indexOf("jq:")?d("div.DTE "+b.replace(/^jq:/,"")):this.s.fields[b]:t.activeElement.blur();(this.s.setFocus=e)&&e.focus()}}function bc(a){var b=this,c=this,e=cc++,f=
".dteInline"+e;this.s.editOpts=a;this.s.editCount=e;if("string"===typeof a.title||"function"===typeof a.title)this.title(a.title),a.title=!0;if("string"===typeof a.message||"function"===typeof a.message)this.message(a.message),a.message=!0;"boolean"!==typeof a.buttons&&(this.buttons(a.buttons),a.buttons=!0);d(t).on("keydown"+f,function(h){if(13===h.which&&b.s.displayed){var g=d(t.activeElement);if(g){var k=b._fieldFromNode(g);k&&"function"===typeof k.canReturnSubmit&&k.canReturnSubmit(g)&&h.preventDefault()}}});
d(t).on("keyup"+f,function(h){var g=d(t.activeElement);if(13===h.which&&b.s.displayed){var k=b._fieldFromNode(g);k&&"function"===typeof k.canReturnSubmit&&k.canReturnSubmit(g)&&("submit"===a.onReturn?(h.preventDefault(),b.submit()):"function"===typeof a.onReturn&&(h.preventDefault(),a.onReturn(b,h)))}else if(27===h.which)if(h.preventDefault(),"function"===typeof a.onEsc)a.onEsc(c,h);else"blur"===a.onEsc?c.blur():"close"===a.onEsc?c.close():"submit"===a.onEsc&&c.submit();else g.parents(".DTE_Form_Buttons").length&&
(37===h.which?g.prev("button").trigger("focus"):39===h.which&&g.next("button").trigger("focus"))});this.s.closeIcb=function(){d(t).off("keydown"+f);d(t).off("keyup"+f)};return f}function dc(a,b,c){var e=this;void 0===c&&(c=null);var f=!1,h=this.classes.inline,g=Object.keys(a);g=a[g[0]];var k=null,l=[];for(a=0;a<g.attach.length;a++){var n=g.attachFields[a][0];l.push({field:this.s.fields[n],name:n,node:d(g.attach[a])})}var p=this._formOptions(b);if(!this._preopen("inline"))return this;for(a=0;a<l.length;a++){var q=
l[a];g=q.node;l[a].children=g.contents().detach();n=-1!==navigator.userAgent.indexOf("Edge/")?'style="width:'+g.width()+'px"':"";g.append(d('<div class="'+h.wrapper+'"><div class="'+h.liner+'" '+n+'><div class="DTE_Processing_Indicator"><span></span></div></div><div class="'+h.buttons+'"></div></div>'));g.find("div."+h.liner.replace(/ /g,".")).append(q.field.node()).append(this.dom.formError);q=q.field.node();b.buttons&&g.find("div."+h.buttons.replace(/ /g,".")).append(this.dom.buttons)}var u=b.submitTrigger;
null!==u&&("number"===typeof u&&(h=d(q).closest("tr").children(),u=0>u?h[h.length+u]:h[u]),k=Array.from(d(u)[0].childNodes).slice(),d(k).detach(),d(u).on("click.dte-submit",function(v){v.stopImmediatePropagation();e.submit()}).append(b.submitHtml));this._closeReg(function(v,x){f=!0;d(t).off("click"+p);v&&"edit"===x||l.forEach(function(w){w.node.contents().detach();w.node.append(w.children)});u&&d(u).off("click.dte-submit").empty().append(k);e._clearDynamicInfo();c&&c();return"inline"});setTimeout(function(){if(!f){var v=
d.fn.addBack?"addBack":"andSelf",x;d(t).on("mousedown"+p,function(w){x=w.target}).on("click"+p,function(w){w=!1;for(var E=0;E<l.length;E++)if(l[E].field._typeFn("owns",x)||-1!==d.inArray(l[E].node[0],d(x).parents()[v]()))w=!0;w||e.blur()})}},0);this._focus(d.map(l,function(v){return v.field}),b.focus);this._postopen("inline",!0)}function ec(a){var b=this;a.options&&d.each(this.s.fields,function(c,e){a.options[c]!==m&&(e=b.field(c))&&e.update&&e.update(a.options[c])})}function fc(a,b,c,e){var f=d.fn.animate?
!0:!1;c===m&&(c=!1);e||(e=function(){});"function"===typeof b&&(b=b(this,new gc.Api(this.s.table)));a=d(a);f&&a.stop();b?(e(),this.s.displayed&&f?a.html(b).fadeIn():a.html(b).css("display","block"),c&&a.attr("title",b)):(this.s.displayed&&f?a.fadeOut(function(){a.html("");e()}):(a.html("").css("display","none"),e()),c&&a.removeAttr("title"))}function hc(){var a=this.s.fields,b=this.s.includeFields,c=!0;if(b)for(var e=0,f=b.length;e<f;e++){var h=a[b[e]];var g=h.multiEditable();h.isMultiValue()&&g&&
c?(h=!0,c=!1):h=h.isMultiValue()&&!g?!0:!1;a[b[e]].multiInfoShown(h)}}function ic(a){var b=this.s.displayController._show;b&&b.length?1<b.length?(b.pop(),b=b[b.length-1],a&&a(),this.s.displayController.open(b.dte,b.append,b.callback)):(this.s.displayController.close(this,a),b.length=0):a&&a()}function jc(a,b){var c=this.s.displayController;c._show||(c._show=[]);b||(c._show.length=0);c._show.push({dte:this,append:this.dom.wrapper,callback:a});this.s.displayController.open(this,this.dom.wrapper,a)}
function kc(a,b){var c=this,e=this.s.displayController.captureFocus;e===m&&(e=!0);d(this.dom.form).off("submit.editor-internal").on("submit.editor-internal",function(f){f.preventDefault()});if(e&&("main"===a||"bubble"===a))d("body").on("focus.editor-focus",function(){0===d(t.activeElement).parents(".DTE").length&&0===d(t.activeElement).parents(".DTED").length&&c.s.setFocus&&c.s.setFocus.focus()});this._multiInfo();this._event("open",[a,this.s.action]);b&&this._event("opened",[a,this.s.action]);return!0}
function lc(a){if(!1===this._event("preOpen",[a,this.s.action]))return this._clearDynamicInfo(),this._event("cancelOpen",[a,this.s.action]),"inline"!==this.s.mode&&"bubble"!==this.s.mode||!this.s.closeIcb||this.s.closeIcb(),this.s.closeIcb=null,!1;this._clearDynamicInfo(!0);this.s.displayed=a;return!0}function mc(a){var b=this.classes.processing.active;d(["div.DTE",this.dom.wrapper]).toggleClass(b,a);this.s.processing=a;this._event("processing",[a])}function nc(a){var b=!1;d.each(this.s.fields,function(c,
e){e.processing()&&(b=!0)});if(b)this.one("processing-field",function(){!0===this._noProcessing(a)&&this._submit.apply(this,a)});return!b}function oc(a,b,c,e){var f=this,h=!1,g={},k={},l=this.s.fields,n=this.s.editCount,p=this.s.editFields,q=this.s.editData,u=this.s.editOpts,v=u.submit;if(!1===this._noProcessing(arguments))y.error("Field is still processing",16,!1);else{var x=this.s.action,w={data:{}};w[this.s.actionName]=x;if("create"===x||"edit"===x)if(d.each(p,function(D,F){var M={},R={};d.each(l,
function(N,ha){if(F.fields[N]&&ha.submittable()){var O=ha.multiGet(),na=H._fnSetObjectDataFn(N);if(O[D]===m)N=ha.valFromData(F.data),na(M,N);else{O=O[D];var ia=Array.isArray(O)&&"string"===typeof N&&-1!==N.indexOf("[]")?H._fnSetObjectDataFn(N.replace(/\[.*$/,"")+"-many-count"):null;na(M,O);ia&&ia(M,O.length);"edit"!==x||q[N]&&ha.compare(O,q[N][D])||(na(R,O),h=!0,ia&&ia(R,O.length))}}});d.isEmptyObject(M)||(g[D]=M);d.isEmptyObject(R)||(k[D]=R)}),"create"===x||"all"===v||"allIfChanged"===v&&h)w.data=
g;else if("changed"===v&&h)w.data=k;else{this.s.action=null;if("close"===u.onComplete&&(e===m||e))this._close(!1);else if("function"===typeof u.onComplete)u.onComplete(this);a&&a.call(this);this._processing(!1);this._event("submitComplete");return}else"remove"===x&&d.each(p,function(D,F){w.data[D]=F.data});var E=d.extend(!0,{},w);c&&c(w);this._event("preSubmit",[w,x],function(D){!1===D?f._processing(!1):(f.s.ajax?f._ajax:f._submitTable).call(f,w,function(F,M,R){f._submitSuccess(F,M,w,E,f.s.action,
n,e,a,b,R)},function(F,M,R){f._submitError(F,M,R,b,w,f.s.action)},w)})}}function pc(a,b,c,e){var f=a.action,h={data:[]},g=H._fnGetObjectDataFn(this.s.idSrc),k=H._fnSetObjectDataFn(this.s.idSrc);if("remove"!==f){var l="main"===this.s.mode?this._dataSource("fields",this.modifier()):this._dataSource("individual",this.modifier());d.each(a.data,function(n,p){var q=oa;if("edit"===f){var u=q({},l[n].data,!0);u=q(u,p,!0)}else u=q({},p,!0);p=g(u);"create"===f&&p===m?k(u,+new Date+n.toString()):k(u,p);h.data.push(u)})}b(h)}
function qc(a,b,c,e,f,h,g,k,l,n){var p=this,q=this.s.fields,u=this.s.editOpts,v=this.s.modifier;this._event("postSubmit",[a,c,f,n]);a.error||(a.error="");a.fieldErrors||(a.fieldErrors=[]);if(b||a.error||a.fieldErrors.length){var x=[];a.error&&x.push(a.error);d.each(a.fieldErrors,function(E,D){var F=q[D.name];if(F)if(F.displayed()){if(F.error(D.status||"Error"),0===E)if("focus"===u.onFieldError)p._animate(d(p.dom.bodyContent),{scrollTop:d(F.node()).position().top},500),F.focus();else if("function"===
typeof u.onFieldError)u.onFieldError(p,D)}else x.push(F.name()+": "+(D.status||"Error"));else throw Error("Unknown field: "+D.name);});this.error(x.join("<br>"));this._event("submitUnsuccessful",[a]);l&&l.call(this,a)}else{b={};if(!a.data||"create"!==f&&"edit"!==f)"remove"===f&&(this._dataSource("prep",f,v,e,a,b),this._event("preRemove",[a,this.ids()]),this._dataSource("remove",v,q,b),this._event(["remove","postRemove"],[a,this.ids()]),this._dataSource("commit",f,v,a.data,b));else{this._dataSource("prep",
f,v,e,a,b);for(e=0;e<a.data.length;e++){var w=a.data[e];c=this._dataSource("id",w);this._event("setData",[a,w,f]);"create"===f?(this._event("preCreate",[a,w,c]),this._dataSource("create",q,w,b),this._event(["create","postCreate"],[a,w,c])):"edit"===f&&(this._event("preEdit",[a,w,c]),this._dataSource("edit",v,q,w,b),this._event(["edit","postEdit"],[a,w,c]))}this._dataSource("commit",f,v,a.data,b)}if(h===this.s.editCount)if(h=this.s.action,this.s.action=null,"close"===u.onComplete&&(g===m||g))this._close(a.data?
!0:!1,h);else if("function"===typeof u.onComplete)u.onComplete(this);k&&k.call(this,a);this._event("submitSuccess",[a,w,f])}this._processing(!1);this._event("submitComplete",[a,w,f])}function rc(a,b,c,e,f,h){this._event("postSubmit",[null,f,h,a]);this.error(this.i18n.error.system);this._processing(!1);e&&e.call(this,a,b,c);this._event(["submitError","submitComplete"],[a,b,c,f])}function sc(a){var b=this,c=this.s.table?new d.fn.dataTable.Api(this.s.table):null,e=!1;c&&(e=c.settings()[0].oFeatures.bServerSide);
return this.s.processing?(this.one("submitComplete",function(){if(e)c.one("draw",a);else setTimeout(function(){a()},10)}),!0):"inline"===this.display()||"bubble"===this.display()?(this.one("close",function(){if(b.s.processing)b.one("submitComplete",function(f,h){if(e&&h)c.one("draw",a);else setTimeout(function(){b.s&&a()},10)});else setTimeout(function(){b.s&&a()},10)}).blur(),!0):!1}function tc(a,b){for(var c=0,e=b.length;c<e;c++)if(a==b[c])return c;return-1}function pa(a,b){if(null===b||b===m)b=
a.uploadText||"Choose file...";a._input.find("div.upload button").html(b)}function Ga(a,b,c,e){void 0===e&&(e=!1);var f=a.classes.form.buttonInternal,h=d('<div class="editor_upload"><div class="eu_table"><div class="row"><div class="cell upload limitHide"><button class="'+f+'"></button><input type="file" '+(e?"multiple":"")+'></input></div><div class="cell clearValue"><button class="'+f+'"></button></div></div><div class="row second"><div class="cell limitHide"><div class="drop"><span></span></div></div><div class="cell"><div class="rendered"></div></div></div></div></div>');
b._input=h;b._enabled=!0;b.id&&h.find("input[type=file]").attr("id",y.safeId(b.id));b.attr&&h.find("input[type=file]").attr(b.attr);pa(b);if(r.FileReader&&!1!==b.dragDrop){h.find("div.drop span").text(b.dragDropText||"Drag and drop a file here to upload");var g=h.find("div.drop");g.on("drop",function(k){b._enabled&&(y.upload(a,b,k.originalEvent.dataTransfer.files,pa,c),g.removeClass("over"));return!1}).on("dragleave dragexit",function(k){b._enabled&&g.removeClass("over");return!1}).on("dragover",
function(k){b._enabled&&g.addClass("over");return!1});a.on("open",function(){d("body").on("dragover.DTE_Upload drop.DTE_Upload",function(k){return!1})}).on("close",function(){d("body").off("dragover.DTE_Upload drop.DTE_Upload")})}else h.addClass("noDrop"),h.append(h.find("div.rendered"));h.find("div.clearValue button").on("click",function(k){k.preventDefault();b._enabled&&qa.set.call(a,b,"")});h.find("input[type=file]").on("input",function(){y.upload(a,b,this.files,pa,function(k){c.call(a,k);h.find("input[type=file]")[0].value=
""})});return h}function P(a){setTimeout(function(){a.trigger("change",{editor:!0,editorSet:!0})},0)}function S(a){a=a.context[0];return a.oInit.editor||a._editor}function X(a,b,c,e){b||(b={});b.buttons===m&&(b.buttons="_basic");b.title===m&&(b.title=a.i18n[c].title);b.message===m&&("remove"===c?(a=a.i18n[c].confirm,b.message=1!==e?a._.replace(/%d/,e):a["1"]):b.message="");return b}var I=d.fn.dataTable;if(!I||!I.versionCheck||!I.versionCheck("1.10.20"))throw Error("Editor requires DataTables 1.10.20 or newer");
var T={onReturn:"submit",onBlur:"close",onBackground:"blur",onComplete:"close",onEsc:"close",onFieldError:"focus",submit:"all",submitTrigger:null,submitHtml:"▶",focus:0,buttons:!0,title:!0,message:!0,drawType:!1,nest:!1,scope:"row"},uc={table:null,fields:[],display:"lightbox",ajax:null,idSrc:"DT_RowId",events:{},i18n:{close:"Close",create:{button:"New",title:"Create new entry",submit:"Create"},edit:{button:"Edit",title:"Edit entry",submit:"Update"},remove:{button:"Delete",title:"Delete",submit:"Delete",
confirm:{_:"Are you sure you wish to delete %d rows?",1:"Are you sure you wish to delete 1 row?"}},error:{system:'A system error has occurred (<a target="_blank" href="//datatables.net/tn/12">More information</a>).'},multi:{title:"Multiple values",info:"The selected items contain different values for this input. To edit and set all items for this input to the same value, click or tap here, otherwise they will retain their individual values.",restore:"Undo changes",noMulti:"This input can be edited individually, but not part of a group."},
datetime:{previous:"Previous",next:"Next",months:"January February March April May June July August September October November December".split(" "),weekdays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),amPm:["am","pm"],hours:"Hour",minutes:"Minute",seconds:"Second",unknown:"-"}},formOptions:{bubble:d.extend({},T,{title:!1,message:!1,buttons:"_basic",submit:"changed"}),inline:d.extend({},T,{buttons:!1,submit:"changed"}),main:d.extend({},T)},actionName:"action"},vc={actionName:"action",ajax:null,bubbleNodes:[],
dataSource:null,opts:null,displayController:null,editFields:{},fields:{},globalError:"",order:[],id:-1,displayed:!1,processing:!1,modifier:null,action:null,idSrc:null,unique:0,table:null,template:null,mode:null,editOpts:{},closeCb:null,closeIcb:null,formOptions:{bubble:d.extend({},T),inline:d.extend({},T),main:d.extend({},T)},includeFields:[],editData:{},setFocus:null,editCount:0},H=d.fn.dataTable.ext.oApi,oa=H._fnExtend,ra=function(a,b){return a.settings()[0].oFeatures.bServerSide&&"none"!==b.s.editOpts.drawType},
Q=function(a){return a instanceof d.fn.dataTable.Api?a:d(a).DataTable()},sa=function(a){a=d(a);setTimeout(function(){a.addClass("highlight");setTimeout(function(){a.addClass("noHighlight").removeClass("highlight");setTimeout(function(){a.removeClass("noHighlight")},550)},500)},20)},ta=function(a,b,c,e,f){b.rows(c).indexes().each(function(h){h=b.row(h);var g=h.data(),k=f(g);k===m&&y.error("Unable to find row identifier",14);a[k]={idSrc:k,data:g,node:h.node(),fields:e,type:"row"}})},Ha=function(a,b,
c,e){a=a.settings()[0].aoColumns[c];var f=a.editField!==m?a.editField:a.mData,h={};d.each(b,function(g,k){if(Array.isArray(f))for(g=0;g<f.length;g++){var l=k,n=f[g];l.name()===n&&(h[l.name()]=l)}else k.name()===f&&(h[k.name()]=k)});d.isEmptyObject(h)&&!e&&y.error("Unable to automatically determine field from source. Please specify the field name.",11);return h},ua=function(a,b,c,e,f,h){void 0===h&&(h=null);var g=b.cells(c);g.indexes().each(function(k){var l=b.cell(k),n=b.row(k.row).data();n=f(n);
var p=h||Ha(b,e,k.column,1<g.count()),q="object"===typeof c&&c.nodeName||c instanceof d;if(Object.keys(p).length){if(a[n]){var u=a[n].attach;var v=a[n].attachFields;var x=a[n].displayFields}ta(a,b,k.row,e,f);a[n].attachFields=v||[];a[n].attachFields.push(Object.keys(p));a[n].attach=u||[];a[n].attach.push(q?d(c).get(0):l.fixedNode?l.fixedNode():l.node());a[n].displayFields=x||{};d.extend(a[n].displayFields,p)}})},wc=function(a,b,c,e,f){b.cells(null,c).indexes().each(function(h){ua(a,b,h,e,f)})},V=
{id:function(a){return H._fnGetObjectDataFn(this.s.idSrc)(a)},fakeRow:function(a){for(var b=Q(this.s.table),c=d('<tr class="dte-inlineAdd">'),e=[],f=[],h={},g=0,k=b.columns(":visible").count();g<k;g++){var l=d("<td>").appendTo(c),n=Ha(b,this.s.fields,g,!0),p=b.cell(":eq(0)",g+":visible").node();p&&l.addClass(p.className);Object.keys(n).length&&(e.push(Object.keys(n)),f.push(l[0]),d.extend(h,n))}var q=function(){c["end"===a?"appendTo":"prependTo"](b.table(m).body())};this.__dtFakeRow=c;q();b.on("draw.dte-createInline",
function(){q()});return{0:{attachFields:e,attach:f,displayFields:h,fields:this.s.fields,type:"row"}}},fakeRowEnd:function(){Q(this.s.table).off("draw.dte-createInline");this.__dtFakeRow.remove();this.__dtFakeRow=null},individual:function(a,b){var c=H._fnGetObjectDataFn(this.s.idSrc),e=Q(this.s.table),f=this.s.fields,h={};if(b){Array.isArray(b)||(b=[b]);var g={};d.each(b,function(k,l){g[l]=f[l]})}ua(h,e,a,f,c,g);return h},fields:function(a){var b=H._fnGetObjectDataFn(this.s.idSrc),c=Q(this.s.table),
e=this.s.fields,f={};!d.isPlainObject(a)||a.rows===m&&a.columns===m&&a.cells===m?ta(f,c,a,e,b):(a.rows!==m&&ta(f,c,a.rows,e,b),a.columns!==m&&wc(f,c,a.columns,e,b),a.cells!==m&&ua(f,c,a.cells,e,b));return f},create:function(a,b){a=Q(this.s.table);ra(a,this)||(b=a.row.add(b),sa(b.node()))},edit:function(a,b,c,e){var f=this;a=Q(this.s.table);if(!ra(a,this)||"none"===this.s.editOpts.drawType){var h=V.id.call(this,c);try{var g=a.row(G(h))}catch(k){g=a}g.any()||(g=a.row(function(k,l,n){return h==V.id.call(f,
l)}));g.any()?(a=oa({},g.data(),!0),a=oa(a,c,!0),g.data(a),c=d.inArray(h,e.rowIds),e.rowIds.splice(c,1)):g=a.row.add(c);sa(g.node())}},refresh:function(){Q(this.s.table).ajax.reload(null,!1)},remove:function(a,b,c){var e=this;b=Q(this.s.table);var f=c.cancelled;if(0===f.length)b.rows(a).remove();else{var h=[];b.rows(a).every(function(){var g=V.id.call(e,this.data());-1===d.inArray(g,f)&&h.push(this.index())});b.rows(h).remove()}},prep:function(a,b,c,e,f){var h=this;"create"===a&&(f.rowIds=d.map(e.data,
function(k){return V.id.call(h,k)}));if("edit"===a){var g=e.cancelled||[];f.rowIds=d.map(c.data,function(k,l){return d.isEmptyObject(c.data[l])||-1!==d.inArray(l,g)?m:l})}else"remove"===a&&(f.cancelled=e.cancelled||[])},commit:function(a,b,c,e){var f=this,h=Q(this.s.table);b=h.settings()[0].oFeatures.bServerSide;var g=e.rowIds;if(!ra(h,this)&&"edit"===a&&e.rowIds.length){a=void 0;e=function(l){return function(n,p,q){return l==V.id.call(f,p)}};c=0;for(var k=g.length;c<k;c++){try{a=h.row(G(g[c]))}catch(l){a=
h}a.any()||(a=h.row(e(g[c])));a.any()&&!b&&a.remove()}}a=this.s.editOpts.drawType;if("none"!==a){if(b&&g&&g.length)h.one("draw",function(){for(var l=0,n=g.length;l<n;l++){var p=h.row(G(g[l]));p.any()&&sa(p.node())}});h.draw(a);h.responsive&&h.responsive.recalc();"function"!==typeof h.searchPanes||b||h.searchPanes.rebuildPane(m,!0);h.searchBuilder===m||"function"!==typeof h.searchBuilder.rebuild||b||h.searchBuilder.rebuild(h.searchBuilder.getDetails())}}},Y={id:function(a){return H._fnGetObjectDataFn(this.s.idSrc)(a)},
initField:function(a){var b=d('[data-editor-label="'+(a.data||a.name)+'"]');!a.label&&b.length&&(a.label=b.html())},individual:function(a,b){if(a instanceof d||a.nodeName){var c=a;b||(b=[d(a).attr("data-editor-field")]);var e=d.fn.addBack?"addBack":"andSelf";a=d(a).parents("[data-editor-id]")[e]().data("editor-id")}a||(a="keyless");b&&!Array.isArray(b)&&(b=[b]);if(!b||0===b.length)throw Error("Cannot automatically determine field name from data source");e=Y.fields.call(this,a);var f=this.s.fields,
h={};d.each(b,function(g,k){h[k]=f[k]});d.each(e,function(g,k){k.type="cell";k.attachFields=[b];if(c)g=d(c);else{g=a;for(var l=b,n=d(),p=0,q=l.length;p<q;p++)n=n.add(ma(g,l[p]));g=n.toArray()}k.attach=g;k.fields=f;k.displayFields=h});return e},fields:function(a){var b={};if(Array.isArray(a)){for(var c=0,e=a.length;c<e;c++){var f=Y.fields.call(this,a[c]);b[a[c]]=f[a[c]]}return b}var h={};c=this.s.fields;a||(a="keyless");d.each(c,function(g,k){g=k.dataSrc();g=ma(a,g);g=g.filter("[data-editor-value]").length?
g.attr("data-editor-value"):g.html();k.valToData(h,null===g?m:g)});b[a]={idSrc:a,data:h,node:t,fields:c,type:"row"};return b},create:function(a,b){if(b){var c=Y.id.call(this,b);try{la(c).length&&wa(c,a,b)}catch(e){}}},edit:function(a,b,c){a=Y.id.call(this,c)||"keyless";wa(a,b,c)},remove:function(a,b){la(a).remove()}},xc={wrapper:"DTE",processing:{indicator:"DTE_Processing_Indicator",active:"processing"},header:{wrapper:"DTE_Header",content:"DTE_Header_Content"},body:{wrapper:"DTE_Body",content:"DTE_Body_Content"},
footer:{wrapper:"DTE_Footer",content:"DTE_Footer_Content"},form:{wrapper:"DTE_Form",content:"DTE_Form_Content",tag:"",info:"DTE_Form_Info",error:"DTE_Form_Error",buttons:"DTE_Form_Buttons",button:"btn",buttonInternal:"btn"},field:{wrapper:"DTE_Field",typePrefix:"DTE_Field_Type_",namePrefix:"DTE_Field_Name_",label:"DTE_Label",input:"DTE_Field_Input",inputControl:"DTE_Field_InputControl",error:"DTE_Field_StateError","msg-label":"DTE_Label_Info","msg-error":"DTE_Field_Error","msg-message":"DTE_Field_Message",
"msg-info":"DTE_Field_Info",multiValue:"multi-value",multiInfo:"multi-info",multiRestore:"multi-restore",multiNoEdit:"multi-noEdit",disabled:"disabled",processing:"DTE_Processing_Indicator"},actions:{create:"DTE_Action_Create",edit:"DTE_Action_Edit",remove:"DTE_Action_Remove"},inline:{wrapper:"DTE DTE_Inline",liner:"DTE_Inline_Field",buttons:"DTE_Inline_Buttons"},bubble:{wrapper:"DTE DTE_Bubble",liner:"DTE_Bubble_Liner",table:"DTE_Bubble_Table",close:"icon close",pointer:"DTE_Bubble_Triangle",bg:"DTE_Bubble_Background"}},
ea=!1,za=1,B={wrapper:d('<div class="DTED DTED_Envelope_Wrapper"><div class="DTED_Envelope_Shadow"></div><div class="DTED_Envelope_Container"></div></div>')[0],background:d('<div class="DTED_Envelope_Background"><div></div></div>')[0],close:d('<div class="DTED_Envelope_Close"></div>')[0],content:null},da={close:function(a,b){ya(a,b)},destroy:function(a){ya()},init:function(a){B.content=d("div.DTED_Envelope_Container",B.wrapper)[0];za=d(B.background).css("opacity");return da},node:function(a){return B.wrapper[0]},
open:function(a,b,c){d(B.content).children().detach();B.content.appendChild(b);B.content.appendChild(B.close);La(a,c)},conf:{windowPadding:50,attach:"row"}},fa=!1,Ia=!1,Da=0,C={wrapper:d('<div class="DTED DTED_Lightbox_Wrapper"><div class="DTED_Lightbox_Container"><div class="DTED_Lightbox_Content_Wrapper"><div class="DTED_Lightbox_Content"></div></div></div></div>'),background:d('<div class="DTED_Lightbox_Background"><div></div></div>'),close:d('<div class="DTED_Lightbox_Close"></div>'),content:null},
W={close:function(a,b){Ca(a,b)},conf:{offsetAni:25,windowPadding:25},destroy:function(a){fa&&Ca(a)},init:function(a){Ia||(C.content=d("div.DTED_Lightbox_Content",C.wrapper),C.wrapper.css("opacity",0),C.background.css("opacity",0),Ia=!0);return W},node:function(a){return C.wrapper[0]},open:function(a,b,c){var e=C.content;e.children().detach();e.append(b).append(C.close);Ma(a,c)}},Gb=d.fn.dataTable,gc=d.fn.dataTable,cc=0,Ja={create:function(){},get:function(){},set:function(){},enable:function(){},
disable:function(){}},va=d.fn.dataTable,J=d.extend(!0,{},Ja,{get:function(a){return a._input.val()},set:function(a,b){a._input.val(b);P(a._input)},enable:function(a){a._input.prop("disabled",!1)},disable:function(a){a._input.prop("disabled",!0)},canReturnSubmit:function(a,b){return!0}}),yc={create:function(a){a._val=a.value;return null},get:function(a){return a._val},set:function(a,b){a._val=b}},zc=d.extend(!0,{},J,{create:function(a){a._input=d("<input/>").attr(d.extend({id:y.safeId(a.id),type:"text",
readonly:"readonly"},a.attr||{}));return a._input[0]}}),Ac=d.extend(!0,{},J,{create:function(a){a._input=d("<input/>").attr(d.extend({id:y.safeId(a.id),type:"text"},a.attr||{}));return a._input[0]}}),Bc=d.extend(!0,{},J,{create:function(a){a._input=d("<input/>").attr(d.extend({id:y.safeId(a.id),type:"password"},a.attr||{}));return a._input[0]}}),Cc=d.extend(!0,{},J,{create:function(a){a._input=d("<textarea></textarea>").attr(d.extend({id:y.safeId(a.id)},a.attr||{}));return a._input[0]},canReturnSubmit:function(a,
b){return!1}}),Z=d.extend(!0,{},J,{_addOptions:function(a,b,c){void 0===c&&(c=!1);var e=a._input[0].options,f=0;if(c)f=e.length;else if(e.length=0,a.placeholder!==m){c=a.placeholderValue!==m?a.placeholderValue:"";f+=1;e[0]=new Option(a.placeholder,c);var h=a.placeholderDisabled!==m?a.placeholderDisabled:!0;e[0].hidden=h;e[0].disabled=h;e[0]._editor_val=c}b&&y.pairs(b,a.optionsPair,function(g,k,l,n){k=new Option(k,g);k._editor_val=g;n&&d(k).attr(n);e[l+f]=k})},create:function(a){a._input=d("<select></select>").attr(d.extend({id:y.safeId(a.id),
multiple:!0===a.multiple},a.attr||{})).on("change.dte",function(b,c){c&&c.editor||(a._lastSet=Z.get(a))});Z._addOptions(a,a.options||a.ipOpts);return a._input[0]},update:function(a,b,c){Z._addOptions(a,b,c);b=a._lastSet;b!==m&&Z.set(a,b,!0);P(a._input)},get:function(a){var b=a._input.find("option:selected").map(function(){return this._editor_val}).toArray();return a.multiple?a.separator?b.join(a.separator):b:b.length?b[0]:null},set:function(a,b,c){c||(a._lastSet=b);a.multiple&&a.separator&&!Array.isArray(b)?
b="string"===typeof b?b.split(a.separator):[]:Array.isArray(b)||(b=[b]);var e,f=b.length,h,g=!1,k=a._input.find("option");a._input.find("option").each(function(){h=!1;for(e=0;e<f;e++)if(this._editor_val==b[e]){g=h=!0;break}this.selected=h});a.placeholder&&!g&&!a.multiple&&k.length&&(k[0].selected=!0);c||P(a._input);return g},destroy:function(a){a._input.off("change.dte")}}),aa=d.extend(!0,{},J,{_addOptions:function(a,b,c){void 0===c&&(c=!1);var e=a._input,f=0;c?f=d("input",e).length:e.empty();b&&
y.pairs(b,a.optionsPair,function(h,g,k,l){e.append('<div><input id="'+y.safeId(a.id)+"_"+(k+f)+'" type="checkbox" /><label for="'+y.safeId(a.id)+"_"+(k+f)+'">'+g+"</label></div>");d("input:last",e).attr("value",h)[0]._editor_val=h;l&&d("input:last",e).attr(l)})},create:function(a){a._input=d("<div></div>");aa._addOptions(a,a.options||a.ipOpts);return a._input[0]},get:function(a){var b=[],c=a._input.find("input:checked");c.length?c.each(function(){b.push(this._editor_val)}):a.unselectedValue!==m&&
b.push(a.unselectedValue);return a.separator===m||null===a.separator?b:b.join(a.separator)},set:function(a,b){var c=a._input.find("input");Array.isArray(b)||"string"!==typeof b?Array.isArray(b)||(b=[b]):b=b.split(a.separator||"|");var e,f=b.length,h;c.each(function(){h=!1;for(e=0;e<f;e++)if(this._editor_val==b[e]){h=!0;break}this.checked=h});P(c)},enable:function(a){a._input.find("input").prop("disabled",!1)},disable:function(a){a._input.find("input").prop("disabled",!0)},update:function(a,b,c){var e=
aa.get(a);aa._addOptions(a,b,c);aa.set(a,e)}}),ba=d.extend(!0,{},J,{_addOptions:function(a,b,c){void 0===c&&(c=!1);var e=a._input,f=0;c?f=d("input",e).length:e.empty();b&&y.pairs(b,a.optionsPair,function(h,g,k,l){e.append('<div><input id="'+y.safeId(a.id)+"_"+(k+f)+'" type="radio" name="'+a.name+'" /><label for="'+y.safeId(a.id)+"_"+(k+f)+'">'+g+"</label></div>");d("input:last",e).attr("value",h)[0]._editor_val=h;l&&d("input:last",e).attr(l)})},create:function(a){a._input=d("<div />");ba._addOptions(a,
a.options||a.ipOpts);this.on("open",function(){a._input.find("input").each(function(){this._preChecked&&(this.checked=!0)})});return a._input[0]},get:function(a){a=a._input.find("input:checked");return a.length?a[0]._editor_val:m},set:function(a,b){a._input.find("input").each(function(){this._preChecked=!1;this._preChecked=this._editor_val==b?this.checked=!0:this.checked=!1});P(a._input.find("input:checked"))},enable:function(a){a._input.find("input").prop("disabled",!1)},disable:function(a){a._input.find("input").prop("disabled",
!0)},update:function(a,b,c){var e=ba.get(a);ba._addOptions(a,b,c);b=a._input.find("input");ba.set(a,b.filter('[value="'+e+'"]').length?e:b.eq(0).attr("value"))}}),Dc=d.extend(!0,{},J,{create:function(a){a._input=d("<input />").attr(d.extend(!0,{id:y.safeId(a.id),type:"text"},a.attr));va.DateTime||y.error("DateTime library is required",15);a._picker=new va.DateTime(a._input,d.extend({format:a.displayFormat||a.format,i18n:this.i18n.datetime},a.opts));a._closeFn=function(){a._picker.hide()};if(!1===
a.keyInput)a._input.on("keydown",function(b){b.preventDefault()});this.on("close",a._closeFn);return a._input[0]},get:function(a){var b=a._input.val(),c=a._picker.c,e=r.moment;return b&&a.wireFormat&&e?e(b,c.format,c.momentLocale,c.momentStrict).format(a.wireFormat):b},set:function(a,b){var c=a._picker.c,e=r.moment;a._picker.val("string"===typeof b&&b&&0!==b.indexOf("--")&&a.wireFormat&&e?e(b,a.wireFormat,c.momentLocale,c.momentStrict).format(c.format):b);P(a._input)},owns:function(a,b){return a._picker.owns(b)},
errorMessage:function(a,b){a._picker.errorMsg(b)},destroy:function(a){this.off("close",a._closeFn);a._input.off("keydown");a._picker.destroy()},minDate:function(a,b){a._picker.min(b)},maxDate:function(a,b){a._picker.max(b)}}),qa=d.extend(!0,{},J,{create:function(a){var b=this;return Ga(b,a,function(c){qa.set.call(b,a,c[0]);b._event("postUpload",[a.name,c[0]])})},get:function(a){return a._val},set:function(a,b){a._val=b;a._input.val("");var c=a._input;if(a.display){var e=c.find("div.rendered");a._val?
e.html(a.display(a._val)):e.empty().append("<span>"+(a.noFileText||"No file")+"</span>")}e=c.find("div.clearValue button");b&&a.clearText?(e.html(a.clearText),c.removeClass("noClear")):c.addClass("noClear");a._input.find("input").triggerHandler("upload.editor",[a._val])},enable:function(a){a._input.find("input").prop("disabled",!1);a._enabled=!0},disable:function(a){a._input.find("input").prop("disabled",!0);a._enabled=!1},canReturnSubmit:function(a,b){return!1}}),ja=d.extend(!0,{},J,{_showHide:function(a){a.limit&&
(a._container.find("div.limitHide").css("display",a._val.length>=a.limit?"none":"block"),a._limitLeft=a.limit-a._val.length)},create:function(a){var b=this,c=Ga(b,a,function(e){a._val=a._val.concat(e);ja.set.call(b,a,a._val);b._event("postUpload",[a.name,a._val])},!0);c.addClass("multi").on("click","button.remove",function(e){e.stopPropagation();a._enabled&&(e=d(this).data("idx"),a._val.splice(e,1),ja.set.call(b,a,a._val))});return a._container=c},get:function(a){return a._val},set:function(a,b){b||
(b=[]);if(!Array.isArray(b))throw"Upload collections must have an array as a value";a._val=b;a._input.val("");var c=this,e=a._input;if(a.display)if(e=e.find("div.rendered").empty(),b.length){var f=d("<ul></ul>").appendTo(e);d.each(b,function(h,g){f.append("<li>"+a.display(g,h)+' <button class="'+c.classes.form.button+' remove" data-idx="'+h+'">&times;</button></li>')})}else e.append("<span>"+(a.noFileText||"No files")+"</span>");ja._showHide(a);a._input.find("input").triggerHandler("upload.editor",
[a._val])},enable:function(a){a._input.find("input").prop("disabled",!1);a._enabled=!0},disable:function(a){a._input.find("input").prop("disabled",!0);a._enabled=!1},canReturnSubmit:function(a,b){return!1}}),ca=d.extend(!0,{},J,{_addOptions:function(a,b,c){void 0===c&&(c=!1);a=a.dt;c||a.clear();a.rows.add(b).draw()},create:function(a){var b=this;a.optionsPair=d.extend({label:"label",value:"value"},a.optionsPair);var c=d("<table>");a.footer&&d("<tfoot>").append(Array.isArray(a.footer)?d("<tr>").append(d.map(a.footer,
function(f){return d("<th>").html(f)})):a.footer).appendTo(c);var e=c.addClass(ca.tableClass).width("100%").DataTable(d.extend({buttons:[],columns:[{title:"Label",data:a.optionsPair.label}],deferRender:!0,dom:"fiBtp",language:{search:"",searchPlaceholder:"Search",paginate:{next:">",previous:"<"}},lengthChange:!1,select:{style:a.multiple?"os":"single"}},a.config));va.select.init(e);this.on("open",function(){e.search()&&e.search("").draw();e.columns.adjust()});e.on("user-select",function(){P(d(a.dt.table().container()))});
a.editor&&(a.editor.table(e),a.editor.on("submitComplete",function(f,h,g,k){if("create"===k)for(f=function(l){e.rows(function(n,p){return p===h.data[l]}).select()},g=0;g<h.data.length;g++)f(g);else"edit"!==k&&"remove"!==k||b._dataSource("refresh")}));a.dt=e;ca._addOptions(a,a.options||[]);c=d(e.table(m).container());return{input:c,side:d('<div class="DTE_Field_Type_datatable_info">').append(c.find("div.dataTables_filter")).append(c.find("div.dt-buttons")).append(c.find("div.dataTables_info"))}},get:function(a){var b=
a.dt.rows({selected:!0}).data().pluck(a.optionsPair.value).toArray();return a.separator||!a.multiple?b.join(a.separator||","):b},set:function(a,b,c){a.multiple&&a.separator&&!Array.isArray(b)?b="string"===typeof b?b.split(a.separator):[]:Array.isArray(b)||(b=[b]);var e=a.optionsPair.value;a.dt.rows({selected:!0}).deselect();a.dt.rows(function(g,k,l){return-1!==b.indexOf(k[e])}).select();var f=a.dt.row({selected:!0,order:"applied"}).index(),h=0;"number"===typeof f&&(h=a.dt.page.info().length,f=a.dt.rows({order:"applied"}).indexes().indexOf(f),
h=0<h?Math.floor(f/h):0);a.dt.page(h).draw(!1);c||P(d(a.dt.table().container()))},update:function(a,b,c){ca._addOptions(a,b,c);b=a._lastSet;b!==m&&ca.set(a,b,!0);P(d(a.dt.table().container()))},dt:function(a){return a.dt},tableClass:""}),Ec={className:"",compare:null,data:"",def:"",entityDecode:!0,fieldInfo:"",id:"",label:"",labelInfo:"",name:null,nullDefault:!1,type:"text",message:"",multiEditable:!0,submit:!0,getFormatter:null,setFormatter:null},Fc=d.fn.dataTable,Gc=function(){function a(b,c,e){var f=
this,h=e.internalI18n().multi,g=d.extend(!0,{},a.defaults,b);if(!y.fieldTypes[g.type])throw Error("Error adding field - unknown field type "+g.type);this.s={classes:c,host:e,multiIds:[],multiValue:!1,multiValues:{},name:g.name,opts:g,processing:!1,type:y.fieldTypes[g.type]};g.id||(g.id="DTE_Field_"+g.name);""===g.data&&(g.data=g.name);this.valFromData=function(l){return H._fnGetObjectDataFn(g.data)(l,"editor")};this.valToData=H._fnSetObjectDataFn(g.data);var k=d('<div class="'+c.wrapper+" "+c.typePrefix+
g.type+" "+c.namePrefix+g.name+" "+g.className+'"><label data-dte-e="label" class="'+c.label+'" for="'+y.safeId(g.id)+'">'+g.label+'<div data-dte-e="msg-label" class="'+c["msg-label"]+'">'+g.labelInfo+'</div></label><div data-dte-e="input" class="'+c.input+'"><div data-dte-e="input-control" class="'+c.inputControl+'"></div><div data-dte-e="multi-value" class="'+c.multiValue+'">'+h.title+'<span data-dte-e="multi-info" class="'+c.multiInfo+'">'+h.info+'</span></div><div data-dte-e="msg-multi" class="'+
c.multiRestore+'">'+h.restore+'</div><div data-dte-e="msg-error" class="'+c["msg-error"]+'"></div><div data-dte-e="msg-message" class="'+c["msg-message"]+'">'+g.message+'</div><div data-dte-e="msg-info" class="'+c["msg-info"]+'">'+g.fieldInfo+'</div></div><div data-dte-e="field-processing" class="'+c.processing+'"><span></span></div></div>');b=this._typeFn("create",g);e=null;b&&b.side&&(e=b.side,b=b.input);null!==b?A("input-control",k).prepend(b):k.css("display","none");this.dom={container:k,inputControl:A("input-control",
k),label:A("label",k).append(e),fieldInfo:A("msg-info",k),labelInfo:A("msg-label",k),fieldError:A("msg-error",k),fieldMessage:A("msg-message",k),multi:A("multi-value",k),multiReturn:A("msg-multi",k),multiInfo:A("multi-info",k),processing:A("field-processing",k)};this.dom.multi.on("click",function(){f.s.opts.multiEditable&&!k.hasClass(c.disabled)&&"readonly"!==g.type&&(f.val(""),f.focus())});this.dom.multiReturn.on("click",function(){f.multiRestore()});d.each(this.s.type,function(l,n){"function"===
typeof n&&f[l]===m&&(f[l]=function(){var p=Array.prototype.slice.call(arguments);p.unshift(l);p=f._typeFn.apply(f,p);return p===m?f:p})})}a.prototype.def=function(b){var c=this.s.opts;if(b===m)return b=c["default"]!==m?c["default"]:c.def,"function"===typeof b?b():b;c.def=b;return this};a.prototype.disable=function(){this.dom.container.addClass(this.s.classes.disabled);this._typeFn("disable");return this};a.prototype.displayed=function(){var b=this.dom.container;return b.parents("body").length&&"none"!=
b.css("display")?!0:!1};a.prototype.enable=function(b){void 0===b&&(b=!0);if(!1===b)return this.disable();this.dom.container.removeClass(this.s.classes.disabled);this._typeFn("enable");return this};a.prototype.enabled=function(){return!1===this.dom.container.hasClass(this.s.classes.disabled)};a.prototype.error=function(b,c){var e=this.s.classes;b?this.dom.container.addClass(e.error):this.dom.container.removeClass(e.error);this._typeFn("errorMessage",b);return this._msg(this.dom.fieldError,b,c)};a.prototype.fieldInfo=
function(b){return this._msg(this.dom.fieldInfo,b)};a.prototype.isMultiValue=function(){return this.s.multiValue&&1!==this.s.multiIds.length};a.prototype.inError=function(){return this.dom.container.hasClass(this.s.classes.error)};a.prototype.input=function(){return this.s.type.input?this._typeFn("input"):d("input, select, textarea",this.dom.container)};a.prototype.focus=function(){this.s.type.focus?this._typeFn("focus"):d("input, select, textarea",this.dom.container).focus();return this};a.prototype.get=
function(){return this.isMultiValue()?m:this._format(this._typeFn("get"),this.s.opts.getFormatter)};a.prototype.hide=function(b){var c=this.dom.container;b===m&&(b=!0);this.s.host.display()&&b&&d.fn.slideUp?c.slideUp():c.css("display","none");return this};a.prototype.label=function(b){var c=this.dom.label,e=this.dom.labelInfo.detach();if(b===m)return c.html();c.html(b);c.append(e);return this};a.prototype.labelInfo=function(b){return this._msg(this.dom.labelInfo,b)};a.prototype.message=function(b,
c){return this._msg(this.dom.fieldMessage,b,c)};a.prototype.multiGet=function(b){var c=this.s.multiValues,e=this.s.multiIds,f=this.isMultiValue();if(b===m){var h=this.val();b={};for(var g=0;g<e.length;g++)b[e[g]]=f?c[e[g]]:h}else b=f?c[b]:this.val();return b};a.prototype.multiRestore=function(){this.s.multiValue=!0;this._multiValueCheck()};a.prototype.multiSet=function(b,c){var e=this,f=this.s.multiValues,h=this.s.multiIds;c===m&&(c=b,b=m);var g=function(k,l){-1===d.inArray(k,h)&&h.push(k);f[k]=e._format(l,
e.s.opts.setFormatter)};d.isPlainObject(c)&&b===m?d.each(c,function(k,l){g(k,l)}):b===m?d.each(h,function(k,l){g(l,c)}):g(b,c);this.s.multiValue=!0;this._multiValueCheck();return this};a.prototype.name=function(){return this.s.opts.name};a.prototype.node=function(){return this.dom.container[0]};a.prototype.nullDefault=function(){return this.s.opts.nullDefault};a.prototype.processing=function(b){if(b===m)return this.s.processing;this.dom.processing.css("display",b?"block":"none");this.s.processing=
b;this.s.host.internalEvent("processing-field",[b]);return this};a.prototype.set=function(b,c){void 0===c&&(c=!0);var e=function(g){return"string"!==typeof g?g:g.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#163;/g,"£").replace(/&#39;/g,"'").replace(/&#10;/g,"\n")};this.s.multiValue=!1;var f=this.s.opts.entityDecode;if(f===m||!0===f)if(Array.isArray(b)){f=0;for(var h=b.length;f<h;f++)b[f]=e(b[f])}else b=e(b);!0===c?(b=this._format(b,this.s.opts.setFormatter),
this._typeFn("set",b),this._multiValueCheck()):this._typeFn("set",b);return this};a.prototype.show=function(b,c){void 0===b&&(b=!0);void 0===c&&(c=!0);if(!1===c)return this.hide(b);c=this.dom.container;this.s.host.display()&&b&&d.fn.slideDown?c.slideDown():c.css("display","");return this};a.prototype.update=function(b,c){void 0===c&&(c=!1);this.s.type.update&&this._typeFn("update",b,c);return this};a.prototype.val=function(b){return b===m?this.get():this.set(b)};a.prototype.compare=function(b,c){return(this.s.opts.compare||
ka)(b,c)};a.prototype.dataSrc=function(){return this.s.opts.data};a.prototype.destroy=function(){this.dom.container.remove();this._typeFn("destroy");return this};a.prototype.multiEditable=function(){return this.s.opts.multiEditable};a.prototype.multiIds=function(){return this.s.multiIds};a.prototype.multiInfoShown=function(b){this.dom.multiInfo.css({display:b?"block":"none"})};a.prototype.multiReset=function(){this.s.multiIds=[];this.s.multiValues={}};a.prototype.submittable=function(){return this.s.opts.submit};
a.prototype._errorNode=function(){return this.dom.fieldError};a.prototype._format=function(b,c){if(c){if(Array.isArray(c)){c=c.slice();var e=c.shift();c=a.formatters[e].apply(this,c)}return c.call(this.s.host,b,this)}return b};a.prototype._msg=function(b,c,e){if(c===m)return b.html();if("function"===typeof c){var f=this.s.host;c=c(f,new Fc.Api(f.internalSettings().table))}b.parent().is(":visible")&&d.fn.animate?(b.html(c),c?b.slideDown(e):b.slideUp(e)):(b.html(c||"").css("display",c?"block":"none"),
e&&e());return this};a.prototype._multiValueCheck=function(){var b=this.s.multiIds,c=this.s.multiValues,e=this.s.multiValue,f=this.s.opts.multiEditable,h=!1;if(b)for(var g=0;g<b.length;g++){var k=c[b[g]];if(0<g&&!ka(k,l)){h=!0;break}var l=k}h&&e||!f&&this.isMultiValue()?(this.dom.inputControl.css({display:"none"}),this.dom.multi.css({display:"block"})):(this.dom.inputControl.css({display:"block"}),this.dom.multi.css({display:"none"}),e&&!h&&this.set(l,!1));this.dom.multiReturn.css({display:b&&1<b.length&&
h&&!e?"block":"none"});l=this.s.host.internalI18n().multi;this.dom.multiInfo.html(f?l.info:l.noMulti);this.dom.multi.toggleClass(this.s.classes.multiNoEdit,!f);this.s.host.internalMultiInfo();return!0};a.prototype._typeFn=function(b){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];c.unshift(this.s.opts);if(e=this.s.type[b])return e.apply(this.s.host,c)};a.defaults=Ec;a.formatters={};return a}(),Hc={action:null,className:null,tabIndex:0,text:null},Ic={close:function(){},init:function(){},
open:function(){},node:function(){}};I=d.fn.dataTable;var K=I.Api.register;K("editor()",function(){return S(this)});K("row.create()",function(a){var b=S(this);b.create(X(b,a,"create"));return this});K("row().edit()",function(a){var b=S(this);b.edit(this[0][0],X(b,a,"edit"));return this});K("rows().edit()",function(a){var b=S(this);b.edit(this[0],X(b,a,"edit"));return this});K("row().delete()",function(a){var b=S(this);b.remove(this[0][0],X(b,a,"remove",1));return this});K("rows().delete()",function(a){var b=
S(this);b.remove(this[0],X(b,a,"remove",this[0].length));return this});K("cell().edit()",function(a,b){a?d.isPlainObject(a)&&(b=a,a="inline"):a="inline";S(this)[a](this[0][0],b);return this});K("cells().edit()",function(a){S(this).bubble(this[0],a);return this});K("file()",Ea);K("files()",Fa);d(t).on("xhr.dt",function(a,b,c){"dt"===a.namespace&&c&&c.files&&d.each(c.files,function(e,f){y.files[e]||(y.files[e]={});d.extend(y.files[e],f)})});var U=d.fn.dataTable.ext.buttons;d.extend(U,{create:{text:function(a,
b,c){return a.i18n("buttons.create",c.editor.i18n.create.button)},className:"buttons-create",editor:null,formButtons:{text:function(a){return a.i18n.create.submit},action:function(a){this.submit()}},formMessage:null,formOptions:{},formTitle:null,action:function(a,b,c,e){var f=this;a=e.editor;this.processing(!0);a.one("preOpen",function(){f.processing(!1)}).create(d.extend({buttons:e.formButtons,message:e.formMessage||a.i18n.create.message,title:e.formTitle||a.i18n.create.title,nest:!0},e.formOptions))}},
createInline:{text:function(a,b,c){return a.i18n("buttons.create",c.editor.i18n.create.button)},className:"buttons-create",editor:null,formButtons:{text:function(a){return a.i18n.create.submit},action:function(a){this.submit()}},formOptions:{},action:function(a,b,c,e){e.editor.inlineCreate(e.position,e.formOptions)},position:"start"},edit:{extend:"selected",text:function(a,b,c){return a.i18n("buttons.edit",c.editor.i18n.edit.button)},className:"buttons-edit",editor:null,formButtons:{text:function(a){return a.i18n.edit.submit},
action:function(a){this.submit()}},formMessage:null,formOptions:{},formTitle:null,action:function(a,b,c,e){var f=this;a=e.editor;c=b.rows({selected:!0}).indexes();var h=b.columns({selected:!0}).indexes();b=b.cells({selected:!0}).indexes();b=h.length||b.length?{rows:c,columns:h,cells:b}:c;this.processing(!0);a.one("preOpen",function(){f.processing(!1)}).edit(b,d.extend({buttons:e.formButtons,message:e.formMessage||a.i18n.edit.message,title:e.formTitle||a.i18n.edit.title,nest:!0},e.formOptions))}},
remove:{extend:"selected",limitTo:["rows"],text:function(a,b,c){return a.i18n("buttons.remove",c.editor.i18n.remove.button)},className:"buttons-remove",editor:null,formButtons:{text:function(a){return a.i18n.remove.submit},action:function(a){this.submit()}},formMessage:function(a,b){b=b.rows({selected:!0}).indexes();a=a.i18n.remove;return("string"===typeof a.confirm?a.confirm:a.confirm[b.length]?a.confirm[b.length]:a.confirm._).replace(/%d/g,b.length)},formOptions:{},formTitle:null,action:function(a,
b,c,e){var f=this;a=e.editor;this.processing(!0);a.one("preOpen",function(){f.processing(!1)}).remove(b.rows({selected:!0}).indexes(),d.extend({buttons:e.formButtons,message:e.formMessage,title:e.formTitle||a.i18n.remove.title,nest:!0},e.formOptions))}}});U.editSingle=d.extend({},U.edit);U.editSingle.extend="selectedSingle";U.removeSingle=d.extend({},U.remove);U.removeSingle.extend="selectedSingle";var y=function(){function a(b){var c=this;this.add=Na;this.ajax=Oa;this.background=Pa;this.blur=Qa;
this.bubble=Ra;this.bubblePosition=Sa;this.buttons=Ta;this.clear=Ua;this.close=Va;this.create=Wa;this.undependent=Xa;this.dependent=Ya;this.destroy=Za;this.disable=$a;this.display=ab;this.displayed=bb;this.displayNode=cb;this.edit=db;this.enable=eb;this.error=fb;this.field=gb;this.fields=hb;this.file=Ea;this.files=Fa;this.get=ib;this.hide=jb;this.ids=kb;this.inError=lb;this.inline=mb;this.inlineCreate=nb;this.message=ob;this.mode=pb;this.modifier=qb;this.multiGet=rb;this.multiSet=sb;this.node=tb;
this.off=ub;this.on=vb;this.one=wb;this.open=xb;this.order=yb;this.remove=zb;this.set=Ab;this.show=Bb;this.submit=Cb;this.table=Db;this.template=Eb;this.title=Fb;this.val=Hb;this._actionClass=Lb;this._ajax=Mb;this._animate=Nb;this._assembleMain=Ob;this._blur=Pb;this._clearDynamicInfo=Qb;this._close=Rb;this._closeReg=Sb;this._crudArgs=Tb;this._dataSource=Ub;this._displayReorder=Vb;this._edit=Wb;this._event=Xb;this._eventName=Yb;this._fieldFromNode=Zb;this._fieldNames=$b;this._focus=ac;this._formOptions=
bc;this._inline=dc;this._optionsUpdate=ec;this._message=fc;this._multiInfo=hc;this._nestedClose=ic;this._nestedOpen=jc;this._postopen=kc;this._preopen=lc;this._processing=mc;this._noProcessing=nc;this._submit=oc;this._submitTable=pc;this._submitSuccess=qc;this._submitError=rc;this._tidy=sc;this._weakInArray=tc;this instanceof a||alert("DataTables Editor must be initialised as a 'new' instance");b=d.extend(!0,{},a.defaults,b);this.s=d.extend(!0,{},a.models.settings,{actionName:b.actionName,table:b.domTable||
b.table,ajax:b.ajax,idSrc:b.idSrc,formOptions:b.formOptions,template:b.template?d(b.template).detach():null});this.classes=d.extend(!0,{},a.classes);this.i18n=b.i18n;a.models.settings.unique++;var e=this,f=this.classes,h=d('<div class="'+f.wrapper+'"><div data-dte-e="processing" class="'+f.processing.indicator+'"><span></span></div><div data-dte-e="body" class="'+f.body.wrapper+'"><div data-dte-e="body_content" class="'+f.body.content+'"></div></div><div data-dte-e="foot" class="'+f.footer.wrapper+
'"><div class="'+f.footer.content+'"></div></div></div>'),g=d('<form data-dte-e="form" class="'+f.form.tag+'"><div data-dte-e="form_content" class="'+f.form.content+'"></div></form>');this.dom={wrapper:h[0],form:g[0],formError:d('<div data-dte-e="form_error" class="'+f.form.error+'"></div>')[0],formInfo:d('<div data-dte-e="form_info" class="'+f.form.info+'"></div>')[0],header:d('<div data-dte-e="head" class="'+f.header.wrapper+'"><div class="'+f.header.content+'"></div></div>')[0],buttons:d('<div data-dte-e="form_buttons" class="'+
f.form.buttons+'"></div>')[0],formContent:A("form_content",g)[0],footer:A("foot",h)[0],body:A("body",h)[0],bodyContent:A("body_content",h)[0],processing:A("processing",h)[0]};d.each(b.events,function(l,n){e.on(l,function(){var p=Array.prototype.slice.call(arguments);p.shift();n.apply(e,p)})});this.dom;var k=this.s.table;b.fields&&this.add(b.fields);d(t).on("init.dt.dte"+this.s.unique,function(l,n,p){c.s.table&&n.nTable===d(k)[0]&&(n._editor=c)}).on("i18n.dt.dte"+this.s.unique,function(l,n){c.s.table&&
n.nTable===d(k)[0]&&n.oLanguage.editor&&d.extend(!0,c.i18n,n.oLanguage.editor)}).on("xhr.dt.dte"+this.s.unique,function(l,n,p){p&&c.s.table&&n.nTable===d(k)[0]&&c._optionsUpdate(p)});if(!a.display[b.display])throw Error("Cannot find display controller "+b.display);this.s.displayController=a.display[b.display].init(this);this._event("initComplete",[]);d(t).trigger("initEditor",[this])}a.prototype.internalEvent=function(b,c){this._event(b,c)};a.prototype.internalI18n=function(){return this.i18n};a.prototype.internalMultiInfo=
function(){return this._multiInfo()};a.prototype.internalSettings=function(){return this.s};a.fieldTypes={checkbox:aa,datatable:ca,datetime:Dc,hidden:yc,password:Bc,radio:ba,readonly:zc,select:Z,text:Ac,textarea:Cc,upload:qa,uploadMany:ja};a.files={};a.version="2.0.4";a.classes=xc;a.Field=Gc;a.DateTime=null;a.error=Ib;a.pairs=Jb;a.safeId=function(b){var c="";void 0===c&&(c="#");return"string"===typeof b?c+b.replace(/\./g,"-"):c+b};a.upload=Kb;a.defaults=uc;a.models={button:Hc,displayController:Ic,
fieldType:Ja,formOptions:T,settings:vc};a.dataSources={dataTable:V,html:Y};a.display={envelope:da,lightbox:W};return a}();I.Editor=y;d.fn.DataTable.Editor=y;I.DateTime&&(y.DateTime=I.DateTime);I.ext.editorFields&&d.extend(y.fieldTypes,I.ext.editorFields);I.ext.editorFields=y.fieldTypes;return y});
